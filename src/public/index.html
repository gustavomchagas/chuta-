<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‚öΩ Chuta√≠ - Painel Admin</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        /* Cores base */
        --bg-dark: #0a0f14;
        --bg-card: #141b22;
        --bg-card-hover: #1a232d;
        --border-color: #2a3642;

        /* Texto */
        --text-primary: #f5f5f5;
        --text-secondary: #9ca3af;
        --text-muted: #6b7280;

        /* Cores dos times (inspira√ß√£o S√©rie A) */
        --flamengo-red: #e42a2a;
        --palmeiras-green: #006437;
        --corinthians-black: #1a1a1a;
        --santos-white: #ffffff;
        --gremio-blue: #0066b0;
        --inter-red: #cc0000;
        --cruzeiro-blue: #003366;
        --atletico-black: #1a1a1a;
        --botafogo-white: #ffffff;
        --fluminense-tricolor: #990033;
        --vasco-cruz: #cc0000;
        --sao-paulo-tricolor: #ff0000;

        /* Gradientes tem√°ticos */
        --gradient-primary: linear-gradient(
          135deg,
          #006437 0%,
          #1e8449 50%,
          #27ae60 100%
        );
        --gradient-gold: linear-gradient(
          135deg,
          #f39c12 0%,
          #f1c40f 50%,
          #e6b60c 100%
        );
        --gradient-card: linear-gradient(145deg, #141b22 0%, #1a232d 100%);
        --gradient-header: linear-gradient(
          180deg,
          rgba(0, 100, 55, 0.2) 0%,
          transparent 100%
        );

        /* Destaques */
        --accent-green: #27ae60;
        --accent-gold: #f1c40f;
        --accent-blue: #3498db;
        --danger: #e74c3c;
        --success: #2ecc71;
        --warning: #f39c12;

        /* Sombras */
        --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.3);
        --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
        --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.5);
        --shadow-glow: 0 0 20px rgba(39, 174, 96, 0.3);
      }

      * {
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
        background: var(--bg-dark);
        color: var(--text-primary);
        min-height: 100vh;
        overflow-x: hidden;
      }

      /* Background com padr√£o de campo */
      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background:
          radial-gradient(
            circle at 20% 80%,
            rgba(0, 100, 55, 0.1) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 20%,
            rgba(39, 174, 96, 0.08) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 50% 50%,
            rgba(243, 156, 18, 0.05) 0%,
            transparent 70%
          );
        pointer-events: none;
        z-index: -1;
      }

      /* Header */
      .header {
        background: var(--gradient-header);
        border-bottom: 1px solid var(--border-color);
        padding: 1rem 0;
        position: sticky;
        top: 0;
        z-index: 1000;
        backdrop-filter: blur(10px);
      }

      .logo-container {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .logo-icon {
        width: 50px;
        height: 50px;
        background: var(--gradient-primary);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        box-shadow: var(--shadow-glow);
      }

      .logo-text {
        font-size: 1.8rem;
        font-weight: 800;
        background: var(--gradient-gold);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .logo-subtitle {
        font-size: 0.75rem;
        color: var(--text-secondary);
        letter-spacing: 2px;
        text-transform: uppercase;
      }

      /* Cards */
      .card {
        background: var(--gradient-card);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        box-shadow: var(--shadow-md);
        transition: all 0.3s ease;
        overflow: hidden;
      }

      .card:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
        border-color: var(--accent-green);
      }

      .card-header {
        background: linear-gradient(
          90deg,
          rgba(0, 100, 55, 0.2) 0%,
          transparent 100%
        );
        border-bottom: 1px solid var(--border-color);
        padding: 1rem 1.25rem;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--text-primary);
      }

      .card-header i {
        color: var(--accent-green);
        font-size: 1.2rem;
      }

      .card-body {
        padding: 1.5rem;
      }

      /* Forms */
      .form-label {
        color: var(--text-primary) !important;
        font-weight: 500;
        margin-bottom: 0.5rem;
        font-size: 0.9rem;
        display: block;
      }

      .form-control,
      .form-select {
        background: var(--bg-dark) !important;
        border: 1px solid var(--border-color) !important;
        color: var(--text-primary) !important;
        border-radius: 10px;
        padding: 0.75rem 1rem;
        font-size: 0.95rem;
        transition: all 0.2s ease;
      }

      .form-control:focus,
      .form-select:focus {
        border-color: var(--accent-green) !important;
        box-shadow: 0 0 0 3px rgba(39, 174, 96, 0.2) !important;
        background: var(--bg-dark) !important;
        color: var(--text-primary) !important;
      }

      .form-control::placeholder {
        color: var(--text-muted) !important;
      }

      .form-select option {
        background: var(--bg-dark);
        color: var(--text-primary);
      }

      /* Input Groups */
      .input-group-text {
        background: var(--bg-card-hover) !important;
        border: 1px solid var(--border-color) !important;
        color: var(--accent-green) !important;
        border-radius: 10px 0 0 10px;
      }

      .input-group .form-control {
        border-radius: 0 10px 10px 0;
      }

      /* Buttons */
      .btn-primary {
        background: var(--gradient-primary);
        border: none;
        border-radius: 10px;
        padding: 0.75rem 1.5rem;
        font-weight: 600;
        color: white;
        transition: all 0.3s ease;
        box-shadow: var(--shadow-sm);
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-glow);
        background: var(--gradient-primary);
        filter: brightness(1.1);
      }

      .btn-success {
        background: var(--gradient-gold);
        border: none;
        border-radius: 10px;
        padding: 0.5rem 1rem;
        font-weight: 600;
        color: var(--bg-dark);
        transition: all 0.3s ease;
      }

      .btn-success:hover {
        filter: brightness(1.1);
        color: var(--bg-dark);
        transform: translateY(-1px);
      }

      .btn-outline-secondary {
        border: 1px solid var(--border-color);
        color: var(--text-secondary);
        border-radius: 10px;
        transition: all 0.2s ease;
      }

      .btn-outline-secondary:hover {
        background: var(--bg-card-hover);
        border-color: var(--accent-green);
        color: var(--accent-green);
      }

      .btn-danger {
        background: var(--danger);
        border: none;
        border-radius: 8px;
      }

      .btn-danger:hover {
        background: #c0392b;
      }

      /* Tabs */
      .nav-tabs {
        border: none;
        gap: 0.5rem;
        background: var(--bg-card);
        padding: 0.5rem;
        border-radius: 12px;
        margin-bottom: 1.5rem;
      }

      .nav-tabs .nav-link {
        border: none;
        border-radius: 10px;
        color: var(--text-secondary);
        padding: 0.75rem 1.5rem;
        font-weight: 500;
        transition: all 0.2s ease;
      }

      .nav-tabs .nav-link:hover {
        color: var(--text-primary);
        background: var(--bg-card-hover);
      }

      .nav-tabs .nav-link.active {
        background: var(--gradient-primary);
        color: white;
        box-shadow: var(--shadow-sm);
      }

      /* Lista de jogos */
      .match-card {
        background: var(--bg-card);
        border: 1px solid var(--border-color);
        border-radius: 12px;
        padding: 1rem;
        margin-bottom: 0.75rem;
        transition: all 0.2s ease;
      }

      .match-card:hover {
        border-color: var(--accent-green);
        background: var(--bg-card-hover);
      }

      .match-teams {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
      }

      .team-name {
        font-weight: 600;
        color: var(--text-primary);
        flex: 1;
      }

      .team-name.home {
        text-align: right;
      }

      .team-name.away {
        text-align: left;
      }

      .match-vs {
        background: var(--gradient-primary);
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 700;
        min-width: 40px;
        text-align: center;
      }

      .match-date {
        color: var(--text-muted);
        font-size: 0.8rem;
        text-align: center;
        margin-top: 0.5rem;
      }

      .match-score {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .score-input {
        width: 50px !important;
        text-align: center;
        font-weight: 700;
        font-size: 1.1rem;
        padding: 0.5rem !important;
      }

      .score-separator {
        color: var(--accent-gold);
        font-weight: 700;
        font-size: 1.2rem;
      }

      /* Badge de pontos */
      .points-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        padding: 0.25rem 0.75rem;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
      }

      .points-badge.exact {
        background: var(--gradient-gold);
        color: var(--bg-dark);
      }

      .points-badge.result {
        background: rgba(39, 174, 96, 0.2);
        color: var(--accent-green);
        border: 1px solid var(--accent-green);
      }

      /* Status badges */
      .status-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        padding: 0.25rem 0.75rem;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 600;
      }

      .status-pending {
        background: rgba(243, 156, 18, 0.2);
        color: var(--warning);
      }

      .status-finished {
        background: rgba(46, 204, 113, 0.2);
        color: var(--success);
      }

      /* Table */
      .table {
        color: var(--text-primary);
      }

      .table thead th {
        background: var(--bg-card-hover);
        color: var(--text-secondary);
        font-weight: 600;
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        border-bottom: 2px solid var(--border-color);
        padding: 1rem;
      }

      .table tbody td {
        border-bottom: 1px solid var(--border-color);
        padding: 1rem;
        vertical-align: middle;
      }

      .table tbody tr:hover {
        background: var(--bg-card-hover);
      }

      /* Stats cards */
      .stat-card {
        background: var(--gradient-card);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 1.5rem;
        text-align: center;
        transition: all 0.3s ease;
      }

      .stat-card:hover {
        border-color: var(--accent-green);
        box-shadow: var(--shadow-glow);
      }

      .stat-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1rem;
        font-size: 1.5rem;
      }

      .stat-icon.green {
        background: rgba(39, 174, 96, 0.2);
        color: var(--accent-green);
      }

      .stat-icon.gold {
        background: rgba(241, 196, 15, 0.2);
        color: var(--accent-gold);
      }

      .stat-icon.blue {
        background: rgba(52, 152, 219, 0.2);
        color: var(--accent-blue);
      }

      .stat-value {
        font-size: 2.5rem;
        font-weight: 800;
        color: var(--text-primary);
        line-height: 1;
      }

      .stat-label {
        color: var(--text-secondary);
        font-size: 0.85rem;
        margin-top: 0.5rem;
      }

      /* Ranking */
      .ranking-item {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem;
        background: var(--bg-card);
        border: 1px solid var(--border-color);
        border-radius: 12px;
        margin-bottom: 0.5rem;
        transition: all 0.2s ease;
      }

      .ranking-item:hover {
        border-color: var(--accent-green);
        background: var(--bg-card-hover);
      }

      .ranking-position {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1.1rem;
      }

      .ranking-position.gold {
        background: var(--gradient-gold);
        color: var(--bg-dark);
      }

      .ranking-position.silver {
        background: linear-gradient(135deg, #bdc3c7, #95a5a6);
        color: var(--bg-dark);
      }

      .ranking-position.bronze {
        background: linear-gradient(135deg, #cd7f32, #b87333);
        color: white;
      }

      .ranking-position.default {
        background: var(--bg-card-hover);
        color: var(--text-secondary);
      }

      .ranking-name {
        flex: 1;
        font-weight: 600;
        color: var(--text-primary);
      }

      .ranking-points {
        font-weight: 700;
        color: var(--accent-gold);
        font-size: 1.2rem;
      }

      /* Alerts */
      .alert {
        border: none;
        border-radius: 12px;
        padding: 1rem 1.25rem;
      }

      .alert-success {
        background: rgba(46, 204, 113, 0.15);
        color: var(--success);
        border-left: 4px solid var(--success);
      }

      .alert-danger {
        background: rgba(231, 76, 60, 0.15);
        color: var(--danger);
        border-left: 4px solid var(--danger);
      }

      .alert-info {
        background: rgba(52, 152, 219, 0.15);
        color: var(--accent-blue);
        border-left: 4px solid var(--accent-blue);
      }

      /* Loading spinner */
      .spinner-border {
        color: var(--accent-green);
      }

      /* Rodada selector */
      .round-selector {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        background: var(--bg-card);
        padding: 0.5rem;
        border-radius: 12px;
        border: 1px solid var(--border-color);
      }

      .round-btn {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        border: none;
        background: transparent;
        color: var(--text-secondary);
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .round-btn:hover {
        background: var(--bg-card-hover);
        color: var(--accent-green);
      }

      .round-number {
        padding: 0.5rem 1.5rem;
        background: var(--gradient-primary);
        color: white;
        border-radius: 10px;
        font-weight: 700;
        min-width: 120px;
        text-align: center;
      }

      /* Team color indicators */
      .team-color {
        width: 4px;
        height: 30px;
        border-radius: 2px;
        margin-right: 0.75rem;
      }

      /* Footer */
      .footer {
        text-align: center;
        padding: 2rem;
        color: var(--text-muted);
        font-size: 0.85rem;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 2rem;
        margin-bottom: 1rem;
      }

      .footer-links a {
        color: var(--text-secondary);
        text-decoration: none;
        transition: color 0.2s ease;
      }

      .footer-links a:hover {
        color: var(--accent-green);
      }

      /* Responsive */
      @media (max-width: 768px) {
        .logo-text {
          font-size: 1.4rem;
        }

        .match-teams {
          flex-direction: column;
          gap: 0.5rem;
        }

        .team-name.home,
        .team-name.away {
          text-align: center;
        }

        .stat-card {
          padding: 1rem;
        }

        .stat-value {
          font-size: 2rem;
        }
      }

      /* Animations */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .fade-in {
        animation: fadeIn 0.3s ease forwards;
      }

      /* Empty state */
      .empty-state {
        text-align: center;
        padding: 3rem;
        color: var(--text-muted);
      }

      .empty-state i {
        font-size: 4rem;
        margin-bottom: 1rem;
        opacity: 0.5;
      }

      .empty-state h5 {
        color: var(--text-secondary);
        margin-bottom: 0.5rem;
      }

      /* Modal */
      .modal-content {
        background: var(--bg-card);
        border: 1px solid var(--border-color);
        border-radius: 16px;
      }

      .modal-header {
        border-bottom: 1px solid var(--border-color);
        padding: 1.25rem 1.5rem;
      }

      .modal-title {
        color: var(--text-primary);
        font-weight: 600;
      }

      .modal-body {
        padding: 1.5rem;
      }

      .modal-footer {
        border-top: 1px solid var(--border-color);
        padding: 1rem 1.5rem;
      }

      .btn-close {
        filter: invert(1) grayscale(100%) brightness(200%);
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="container">
        <div class="d-flex justify-content-between align-items-center">
          <div class="logo-container">
            <div class="logo-icon">‚öΩ</div>
            <div>
              <div class="logo-text">Chuta√≠</div>
              <div class="logo-subtitle">Bol√£o Entre Amigos</div>
            </div>
          </div>
          <div class="d-flex align-items-center gap-3">
            <span class="text-secondary">
              <i
                class="bi bi-circle-fill text-success"
                style="font-size: 0.5rem"
              ></i>
              Bot Online
            </span>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="container py-4">
      <!-- Stats Cards -->
      <div class="row g-4 mb-4">
        <div class="col-md-4">
          <div class="stat-card">
            <div class="stat-icon green">
              <i class="bi bi-trophy"></i>
            </div>
            <div class="stat-value" id="totalGroups">0</div>
            <div class="stat-label">Grupos Ativos</div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="stat-card">
            <div class="stat-icon gold">
              <i class="bi bi-calendar-event"></i>
            </div>
            <div class="stat-value" id="totalGames">0</div>
            <div class="stat-label">Jogos Cadastrados</div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="stat-card">
            <div class="stat-icon blue">
              <i class="bi bi-people"></i>
            </div>
            <div class="stat-value" id="totalBets">0</div>
            <div class="stat-label">Palpites Recebidos</div>
          </div>
        </div>
      </div>

      <!-- Tabs -->
      <ul class="nav nav-tabs" id="mainTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="games-tab"
            data-bs-toggle="tab"
            data-bs-target="#games"
            type="button"
            role="tab"
          >
            <i class="bi bi-calendar3 me-2"></i>Jogos
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="results-tab"
            data-bs-toggle="tab"
            data-bs-target="#results"
            type="button"
            role="tab"
          >
            <i class="bi bi-clipboard-check me-2"></i>Resultados
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="ranking-tab"
            data-bs-toggle="tab"
            data-bs-target="#ranking"
            type="button"
            role="tab"
          >
            <i class="bi bi-bar-chart me-2"></i>Ranking
          </button>
        </li>
      </ul>

      <!-- Tab Content -->
      <div class="tab-content" id="mainTabsContent">
        <!-- Jogos Tab -->
        <div class="tab-pane fade show active" id="games" role="tabpanel">
          <div class="row g-4">
            <!-- Adicionar Jogo -->
            <div class="col-lg-5">
              <div class="card">
                <div class="card-header">
                  <i class="bi bi-plus-circle"></i>
                  Adicionar Jogo
                </div>
                <div class="card-body">
                  <form id="addGameForm">
                    <div class="mb-3">
                      <label class="form-label">Rodada</label>
                      <input
                        type="number"
                        class="form-control"
                        id="gameRound"
                        min="1"
                        max="38"
                        placeholder="Ex: 1"
                        required
                      />
                    </div>
                    <div class="mb-3">
                      <label class="form-label">Time da Casa</label>
                      <select class="form-select" id="homeTeam" required>
                        <option value="">Selecione o time mandante</option>
                        <option value="Athletico-PR">Athletico-PR</option>
                        <option value="Atl√©tico-MG">Atl√©tico-MG</option>
                        <option value="Bahia">Bahia</option>
                        <option value="Botafogo">Botafogo</option>
                        <option value="Bragantino">Bragantino</option>
                        <option value="Chapecoense">Chapecoense</option>
                        <option value="Corinthians">Corinthians</option>
                        <option value="Coritiba">Coritiba</option>
                        <option value="Cruzeiro">Cruzeiro</option>
                        <option value="Flamengo">Flamengo</option>
                        <option value="Fluminense">Fluminense</option>
                        <option value="Gr√™mio">Gr√™mio</option>
                        <option value="Internacional">Internacional</option>
                        <option value="Mirassol">Mirassol</option>
                        <option value="Palmeiras">Palmeiras</option>
                        <option value="Remo">Remo</option>
                        <option value="Santos">Santos</option>
                        <option value="S√£o Paulo">S√£o Paulo</option>
                        <option value="Vasco da Gama">Vasco da Gama</option>
                        <option value="Vit√≥ria">Vit√≥ria</option>
                      </select>
                    </div>
                    <div class="mb-3">
                      <label class="form-label">Time Visitante</label>
                      <select class="form-select" id="awayTeam" required>
                        <option value="">Selecione o time visitante</option>
                        <option value="Athletico-PR">Athletico-PR</option>
                        <option value="Atl√©tico-MG">Atl√©tico-MG</option>
                        <option value="Bahia">Bahia</option>
                        <option value="Botafogo">Botafogo</option>
                        <option value="Bragantino">Bragantino</option>
                        <option value="Chapecoense">Chapecoense</option>
                        <option value="Corinthians">Corinthians</option>
                        <option value="Coritiba">Coritiba</option>
                        <option value="Cruzeiro">Cruzeiro</option>
                        <option value="Flamengo">Flamengo</option>
                        <option value="Fluminense">Fluminense</option>
                        <option value="Gr√™mio">Gr√™mio</option>
                        <option value="Internacional">Internacional</option>
                        <option value="Mirassol">Mirassol</option>
                        <option value="Palmeiras">Palmeiras</option>
                        <option value="Remo">Remo</option>
                        <option value="Santos">Santos</option>
                        <option value="S√£o Paulo">S√£o Paulo</option>
                        <option value="Vasco da Gama">Vasco da Gama</option>
                        <option value="Vit√≥ria">Vit√≥ria</option>
                      </select>
                    </div>
                    <div class="mb-3">
                      <label class="form-label">Data e Hora</label>
                      <input
                        type="datetime-local"
                        class="form-control"
                        id="gameDate"
                        required
                      />
                    </div>
                    <button type="submit" class="btn btn-primary w-100">
                      <i class="bi bi-plus-lg me-2"></i>Adicionar Jogo
                    </button>
                  </form>
                </div>
              </div>
            </div>

            <!-- Lista de Jogos -->
            <div class="col-lg-7">
              <div class="card">
                <div
                  class="card-header d-flex justify-content-between align-items-center"
                >
                  <span>
                    <i class="bi bi-list-ul"></i>
                    Jogos da Rodada
                  </span>
                  <div class="round-selector">
                    <button class="round-btn" onclick="changeRound(-1)">
                      <i class="bi bi-chevron-left"></i>
                    </button>
                    <div class="round-number">
                      Rodada <span id="currentRound">1</span>
                    </div>
                    <button class="round-btn" onclick="changeRound(1)">
                      <i class="bi bi-chevron-right"></i>
                    </button>
                  </div>
                </div>
                <div class="card-body" id="gamesList">
                  <div class="empty-state">
                    <i class="bi bi-calendar-x"></i>
                    <h5>Nenhum jogo cadastrado</h5>
                    <p>Adicione jogos usando o formul√°rio ao lado</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Resultados Tab -->
        <div class="tab-pane fade" id="results" role="tabpanel">
          <div class="card">
            <div class="card-header">
              <i class="bi bi-clipboard-check"></i>
              Inserir Resultados
            </div>
            <div class="card-body">
              <div class="alert alert-info mb-4">
                <i class="bi bi-info-circle me-2"></i>
                Insira o placar final de cada jogo. A pontua√ß√£o ser√° calculada
                automaticamente:
                <span class="points-badge exact ms-2"
                  >2 pts - Placar Exato</span
                >
                <span class="points-badge result ms-2"
                  >1 pt - Resultado Certo</span
                >
              </div>
              <div id="resultsList">
                <div class="empty-state">
                  <i class="bi bi-hourglass"></i>
                  <h5>Nenhum jogo pendente</h5>
                  <p>
                    Todos os jogos j√° t√™m resultado ou n√£o h√° jogos cadastrados
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Ranking Tab -->
        <div class="tab-pane fade" id="ranking" role="tabpanel">
          <div class="card">
            <div
              class="card-header d-flex justify-content-between align-items-center"
            >
              <span><i class="bi bi-trophy"></i> Ranking</span>
              <select
                id="roundFilter"
                class="form-select form-select-sm"
                style="
                  width: auto;
                  background-color: #1f2937;
                  color: #f9fafb;
                  border-color: #374151;
                "
              >
                <option value="geral">üèÜ Geral</option>
              </select>
            </div>
            <div class="card-body" id="rankingList">
              <div class="empty-state">
                <i class="bi bi-emoji-neutral"></i>
                <h5>Ranking vazio</h5>
                <p>O ranking ser√° gerado ap√≥s os primeiros resultados</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-links">
        <a href="#"><i class="bi bi-github me-1"></i> GitHub</a>
        <a href="#"><i class="bi bi-whatsapp me-1"></i> WhatsApp Bot</a>
        <a href="#"><i class="bi bi-question-circle me-1"></i> Ajuda</a>
      </div>
      <p>‚öΩ Chuta√≠ - Bol√£o Entre Amigos ¬© 2025</p>
      <p class="text-muted" style="font-size: 0.75rem">
        Feito com üíöüíõ para os boleiros
      </p>
    </footer>

    <!-- Modal de Confirma√ß√£o -->
    <div class="modal fade" id="confirmModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              <i class="bi bi-exclamation-triangle text-warning me-2"></i>
              Confirmar A√ß√£o
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body" id="confirmModalBody">
            Tem certeza que deseja continuar?
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-outline-secondary"
              data-bs-dismiss="modal"
            >
              Cancelar
            </button>
            <button type="button" class="btn btn-primary" id="confirmModalBtn">
              Confirmar
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      let currentRound = 1;
      const API_URL = "";

      // Inicializa√ß√£o
      document.addEventListener("DOMContentLoaded", () => {
        loadStats();
        loadGames();
        loadPendingResults();
        loadRoundsFilter();
        loadRanking();
      });

      // Mudar rodada
      function changeRound(delta) {
        const newRound = currentRound + delta;
        if (newRound >= 1) {
          currentRound = newRound;
          document.getElementById("currentRound").textContent = currentRound;
          loadGames();
        }
      }

      // Carregar estat√≠sticas
      async function loadStats() {
        try {
          const response = await fetch(`${API_URL}/api/stats`);
          if (response.ok) {
            const stats = await response.json();
            document.getElementById("totalGroups").textContent =
              stats.groups || 0;
            document.getElementById("totalGames").textContent =
              stats.games || 0;
            document.getElementById("totalBets").textContent = stats.bets || 0;
          }
        } catch (error) {
          console.error("Erro ao carregar stats:", error);
        }
      }

      // Carregar jogos
      async function loadGames() {
        const container = document.getElementById("gamesList");
        try {
          const response = await fetch(
            `${API_URL}/api/games?round=${currentRound}`,
          );
          if (response.ok) {
            const games = await response.json();
            if (games.length === 0) {
              container.innerHTML = `
                            <div class="empty-state">
                                <i class="bi bi-calendar-x"></i>
                                <h5>Nenhum jogo na rodada ${currentRound}</h5>
                                <p>Adicione jogos usando o formul√°rio ao lado</p>
                            </div>
                        `;
              return;
            }
            container.innerHTML = games
              .map(
                (game) => `
                        <div class="match-card fade-in">
                            <div class="match-teams">
                                <span class="team-name home">${game.home_team}</span>
                                <span class="match-vs">VS</span>
                                <span class="team-name away">${game.away_team}</span>
                            </div>
                            <div class="match-date">
                                <i class="bi bi-clock me-1"></i>
                                ${formatDate(game.game_date)}
                                ${
                                  game.home_score !== null
                                    ? `
                                    <span class="ms-2 points-badge exact">
                                        ${game.home_score} x ${game.away_score}
                                    </span>
                                `
                                    : `
                                    <span class="ms-2 status-badge status-pending">Aguardando</span>
                                `
                                }
                            </div>
                            <div class="text-end mt-2">
                                <button class="btn btn-sm btn-outline-secondary" onclick="deleteGame('${game.id}')">
                                    <i class="bi bi-trash"></i>
                                </button>
                            </div>
                        </div>
                    `,
              )
              .join("");
          }
        } catch (error) {
          console.error("Erro ao carregar jogos:", error);
          container.innerHTML = `
                    <div class="alert alert-danger">
                        <i class="bi bi-exclamation-triangle me-2"></i>
                        Erro ao carregar jogos. Verifique a conex√£o.
                    </div>
                `;
        }
      }

      // Carregar resultados pendentes
      async function loadPendingResults() {
        const container = document.getElementById("resultsList");
        try {
          const response = await fetch(`${API_URL}/api/games/pending`);
          if (response.ok) {
            const games = await response.json();
            if (games.length === 0) {
              container.innerHTML = `
                            <div class="empty-state">
                                <i class="bi bi-check-circle"></i>
                                <h5>Todos os jogos t√™m resultado</h5>
                                <p>N√£o h√° jogos pendentes no momento</p>
                            </div>
                        `;
              return;
            }
            container.innerHTML = games
              .map(
                (game) => `
                        <div class="match-card fade-in">
                            <div class="d-flex justify-content-between align-items-center flex-wrap gap-3">
                                <div class="match-teams flex-grow-1">
                                    <span class="team-name home">${game.home_team}</span>
                                    <div class="match-score mx-3">
                                        <input type="number" class="form-control score-input" 
                                            id="home-${game.id}" min="0" placeholder="0">
                                        <span class="score-separator">x</span>
                                        <input type="number" class="form-control score-input" 
                                            id="away-${game.id}" min="0" placeholder="0">
                                    </div>
                                    <span class="team-name away">${game.away_team}</span>
                                </div>
                                <button class="btn btn-success" onclick="saveResult('${game.id}')">
                                    <i class="bi bi-check-lg me-1"></i>Salvar
                                </button>
                            </div>
                            <div class="match-date">
                                <i class="bi bi-calendar3 me-1"></i>
                                Rodada ${game.round} - ${formatDate(game.game_date)}
                            </div>
                        </div>
                    `,
              )
              .join("");
          }
        } catch (error) {
          console.error("Erro ao carregar resultados:", error);
        }
      }

      // Carregar rodadas para o filtro
      async function loadRoundsFilter() {
        const select = document.getElementById("roundFilter");
        try {
          const response = await fetch(`${API_URL}/api/rounds`);
          if (response.ok) {
            const rounds = await response.json();
            // Mant√©m a op√ß√£o "Geral"
            let options = '<option value="geral">üèÜ Geral</option>';
            rounds.forEach((r) => {
              const status = r.isComplete
                ? "‚úÖ"
                : `${r.finishedMatches}/${r.totalMatches}`;
              options += `<option value="${r.round}">Rodada ${r.round} ${status}</option>`;
            });
            select.innerHTML = options;
          }
        } catch (error) {
          console.error("Erro ao carregar rodadas:", error);
        }
      }

      // Carregar ranking (geral ou por rodada)
      async function loadRanking(round = "geral") {
        const container = document.getElementById("rankingList");
        try {
          const url =
            round === "geral"
              ? `${API_URL}/api/ranking`
              : `${API_URL}/api/ranking/${round}`;

          const response = await fetch(url);
          if (response.ok) {
            const data = await response.json();
            const ranking = round === "geral" ? data : data.ranking;

            if (!ranking || ranking.length === 0) {
              container.innerHTML = `
                            <div class="empty-state">
                                <i class="bi bi-emoji-neutral"></i>
                                <h5>Ranking vazio</h5>
                                <p>O ranking ser√° gerado ap√≥s os primeiros resultados</p>
                            </div>
                        `;
              return;
            }

            // Header com info da rodada
            let header = "";
            if (round !== "geral" && data.round) {
              header = `<div class="alert alert-info mb-3" style="background: rgba(59, 130, 246, 0.1); border-color: #3b82f6; color: #93c5fd;">
                <strong>Rodada ${data.round}</strong> - ${data.finishedMatches}/${data.totalMatches} jogos finalizados
              </div>`;
            }

            container.innerHTML =
              header +
              ranking
                .map((player, index) => {
                  let positionClass = "default";
                  if (index === 0) positionClass = "gold";
                  else if (index === 1) positionClass = "silver";
                  else if (index === 2) positionClass = "bronze";

                  return `
                            <div class="ranking-item fade-in">
                                <div class="ranking-position ${positionClass}">${index + 1}¬∫</div>
                                <div class="ranking-name">
                                    ${player.displayName || player.name}
                                    <small class="d-block" style="color: #9ca3af; font-size: 0.875rem;">
                                        ${player.exactScores || 0} exatos ¬∑ ${player.correctWinners || 0} acertos
                                    </small>
                                </div>
                                <div class="ranking-points">${player.totalPoints || 0} pts</div>
                            </div>
                        `;
                })
                .join("");
          }
        } catch (error) {
          console.error("Erro ao carregar ranking:", error);
        }
      }

      // Event listener para filtro de rodadas
      document.getElementById("roundFilter").addEventListener("change", (e) => {
        loadRanking(e.target.value);
      });

      // Adicionar jogo
      document
        .getElementById("addGameForm")
        .addEventListener("submit", async (e) => {
          e.preventDefault();
          const data = {
            round: parseInt(document.getElementById("gameRound").value),
            home_team: document.getElementById("homeTeam").value,
            away_team: document.getElementById("awayTeam").value,
            game_date: document.getElementById("gameDate").value,
          };

          try {
            const response = await fetch(`${API_URL}/api/games`, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(data),
            });

            if (response.ok) {
              showAlert("success", "Jogo adicionado com sucesso!");
              e.target.reset();
              currentRound = data.round;
              document.getElementById("currentRound").textContent =
                currentRound;
              loadGames();
              loadStats();
              loadPendingResults();
            } else {
              showAlert("danger", "Erro ao adicionar jogo");
            }
          } catch (error) {
            showAlert("danger", "Erro de conex√£o");
          }
        });

      // Salvar resultado
      async function saveResult(gameId) {
        const homeScore = document.getElementById(`home-${gameId}`).value;
        const awayScore = document.getElementById(`away-${gameId}`).value;

        if (homeScore === "" || awayScore === "") {
          showAlert("warning", "Preencha o placar completo");
          return;
        }

        try {
          const response = await fetch(
            `${API_URL}/api/games/${gameId}/result`,
            {
              method: "PUT",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({
                home_score: parseInt(homeScore),
                away_score: parseInt(awayScore),
              }),
            },
          );

          if (response.ok) {
            showAlert("success", "Resultado salvo! Pontua√ß√µes calculadas.");
            loadGames();
            loadPendingResults();
            loadRanking();
            loadStats();
          } else {
            showAlert("danger", "Erro ao salvar resultado");
          }
        } catch (error) {
          showAlert("danger", "Erro de conex√£o");
        }
      }

      // Deletar jogo
      async function deleteGame(gameId) {
        if (!confirm("Tem certeza que deseja excluir este jogo?")) return;

        try {
          const response = await fetch(`${API_URL}/api/games/${gameId}`, {
            method: "DELETE",
          });

          if (response.ok) {
            showAlert("success", "Jogo exclu√≠do");
            loadGames();
            loadStats();
            loadPendingResults();
          } else {
            showAlert("danger", "Erro ao excluir jogo");
          }
        } catch (error) {
          showAlert("danger", "Erro de conex√£o");
        }
      }

      // Formatar data
      function formatDate(dateString) {
        const date = new Date(dateString);
        return date.toLocaleDateString("pt-BR", {
          weekday: "short",
          day: "2-digit",
          month: "2-digit",
          hour: "2-digit",
          minute: "2-digit",
        });
      }

      // Mostrar alerta
      function showAlert(type, message) {
        const alertDiv = document.createElement("div");
        alertDiv.className = `alert alert-${type} position-fixed top-0 start-50 translate-middle-x mt-4 fade-in`;
        alertDiv.style.zIndex = "9999";
        alertDiv.innerHTML = `<i class="bi bi-${type === "success" ? "check-circle" : "exclamation-triangle"} me-2"></i>${message}`;
        document.body.appendChild(alertDiv);
        setTimeout(() => alertDiv.remove(), 3000);
      }
    </script>
  </body>
</html>
